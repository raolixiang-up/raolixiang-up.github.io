<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="http://raolixiang-up.github.io/atom.xml" rel="self"/>
  
  <link href="http://raolixiang-up.github.io/"/>
  <updated>2022-05-11T16:31:25.135Z</updated>
  <id>http://raolixiang-up.github.io/</id>
  
  <author>
    <name>raolixiang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>科研代码002-任务收敛情况监控脚本</title>
    <link href="http://raolixiang-up.github.io/2022/05/12/%E6%9F%A5%E7%9C%8B%E4%BB%BB%E5%8A%A1%E6%94%B6%E6%95%9B%E6%83%85%E5%86%B5/"/>
    <id>http://raolixiang-up.github.io/2022/05/12/%E6%9F%A5%E7%9C%8B%E4%BB%BB%E5%8A%A1%E6%94%B6%E6%95%9B%E6%83%85%E5%86%B5/</id>
    <published>2022-05-11T16:04:07.000Z</published>
    <updated>2022-05-11T16:31:25.135Z</updated>
    
    <content type="html"><![CDATA[<p>在任务运行过程中监测任务的收敛情况，有两个脚本。</p><h2 id="rsgrad"><a href="#rsgrad" class="headerlink" title="rsgrad"></a>rsgrad</h2><p>vasp计算监控程序，使用rust脚本编写，具体详情见主页：<a href="https://github.com/Ionizing/rsgrad">Ionizing/rsgrad: A VASP calculation monitor. Written in Rust</a><br>安装包下载地址：<a href="https://github.com/Ionizing/rsgrad/releases/tag/0.3.6">Release 0.3.6 · Ionizing/rsgrad</a>，直接使用预编译二进制文件即可。<br>运行指令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsgrad rlx <span class="comment"># 监控结构弛豫过程</span></span><br></pre></td></tr></table></figure><p>具体详细信息见主页。</p><h2 id="extforce-sh和screenfore-py脚本监控"><a href="#extforce-sh和screenfore-py脚本监控" class="headerlink" title="extforce.sh和screenfore.py脚本监控"></a>extforce.sh和screenfore.py脚本监控</h2><p>extforce.sh脚本的思路：<br>1）从OUTCAR中提取所有的TOTAL-FORCE部分信息（每个原子上的force vectors）；<br>2）用for循环调用screenforce.py筛选出每一个离子步受力大于EDIFFG的原子，及对应的原子序号，存储在lt_ediffg_${i}.dat，i为相应的离子步数。然后可以用p4vasp软件查看 具体是哪些原子没有达到力收敛标准。<br>预设的参数：<br>1）在extforce.sh里设置体系的原子数（N_atoms）；<br>2）在screenforce.py里设置一下EDIFFG（ediffg）。<br>需用python3，如果只有python2的话可以把screenforce.py的print那几行改成py2的格式即可，使用时将extforce.sh, screenforce.py, OUTCAR放在同一目录下，执行./extforce.sh即可。<br>相关介绍见：<a href="http://bbs.keinsci.com/thread-19985-1-1.html">分享从OUTCAR查看原子受力的小脚本 - 第一性原理 (First Principle) - 计算化学公社</a><br>对extforce.sh进行了简单的修改，直接从POSCAR获得原子总数，代码如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># Written by qmlearner at Homestay Uni.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">######################################################</span></span><br><span class="line"><span class="comment">#Define the number of atoms (N_atoms) of your system.#</span></span><br><span class="line"><span class="comment">######################################################</span></span><br><span class="line">N_atoms=`<span class="built_in">cat</span> POSCAR | sed -n <span class="string">&#x27;7p&#x27;</span> | awk <span class="string">&#x27;&#123; for(i=1;i&lt;=NF;i++) sum+=$i; print sum&#125;&#x27;</span>`</span><br><span class="line">N_Lines_1=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;N_atoms&#125;</span>+1&quot;</span> | bc)</span><br><span class="line">N_Lines_2=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;N_atoms&#125;</span>+2&quot;</span> | bc)</span><br><span class="line"></span><br><span class="line"><span class="comment">########################################</span></span><br><span class="line"><span class="comment">#Extract the force vectors of each atom# </span></span><br><span class="line"><span class="comment">#for each ionic step.                  #</span></span><br><span class="line"><span class="comment">########################################</span></span><br><span class="line"><span class="keyword">if</span> [ ! -f <span class="string">&quot;OUTCAR&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line"> <span class="built_in">echo</span> <span class="string">&quot;Does not find OUTCAR.&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"> sed -n <span class="string">&quot;/TOTAL-FORCE/,+<span class="variable">$&#123;N_Lines_1&#125;</span>p&quot;</span> OUTCAR &gt; forcevectors.dat</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">N_ionic_steps=$(grep -o <span class="string">&#x27;TOTAL-FORCE&#x27;</span> forcevectors.dat | <span class="built_in">wc</span> -l)</span><br><span class="line"></span><br><span class="line"><span class="built_in">cp</span> forcevectors.dat forcevectors-back.dat</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ((i=1;i&lt;=<span class="variable">$&#123;N_ionic_steps&#125;</span>;i++));</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  sed -n <span class="string">&quot;3,<span class="variable">$&#123;N_Lines_2&#125;</span>p&quot;</span> forcevectors.dat | awk <span class="string">&#x27;&#123;printf &quot;%10s   %10s   %10s   \n&quot;,$4,$5,$6&#125;&#x27;</span> &gt; sep_forcevectors.dat</span><br><span class="line">  sed  <span class="string">&quot;1,<span class="variable">$&#123;N_Lines_2&#125;</span>d&quot;</span> forcevectors.dat &gt; forcevectors_del.dat</span><br><span class="line">  <span class="built_in">mv</span> forcevectors_del.dat forcevectors.dat</span><br><span class="line">  python screenforce.py</span><br><span class="line">  <span class="built_in">mv</span> lt_ediffg.dat lt_ediffg_<span class="variable">$&#123;i&#125;</span>.dat</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">rm</span> forcevectors.dat sep_forcevectors.dat atomicforce.dat</span><br></pre></td></tr></table></figure><p>screenforce.py的代码如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/python -u </span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># Calculate the force of each atom. Screen the force not fullfil convergence criteria and the </span></span><br><span class="line"><span class="comment"># corresponding atom number.</span></span><br><span class="line"><span class="comment"># Written by qmlearner at Homestay Uni. </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#import math </span></span><br><span class="line"><span class="comment">#import numpy as np</span></span><br><span class="line"><span class="comment">#import re</span></span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line">a=open(<span class="string">&#x27;sep_forcevectors.dat&#x27;</span>,<span class="string">&#x27;r+&#x27;</span>)</span><br><span class="line"></span><br><span class="line">af=<span class="string">&#x27;atomicforce.dat&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> os.path.exists(af):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;---------------------------------------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;%s file already exists. It will be deleted.&quot;</span> %(af)) </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;---------------------------------------------&quot;</span>)</span><br><span class="line">    os.remove(af)</span><br><span class="line"></span><br><span class="line">b=open(af,<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">la=a.readlines()</span><br><span class="line"></span><br><span class="line"><span class="comment">###############################################</span></span><br><span class="line"><span class="comment">#Calculate the force performing on each atom###</span></span><br><span class="line"><span class="comment">###############################################</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(la)):</span><br><span class="line">    x=<span class="built_in">float</span>(la[i].strip().<span class="built_in">split</span>()[0])</span><br><span class="line">    y=<span class="built_in">float</span>(la[i].strip().<span class="built_in">split</span>()[1])</span><br><span class="line">    z=<span class="built_in">float</span>(la[i].strip().<span class="built_in">split</span>()[2])</span><br><span class="line">   </span><br><span class="line">    F=(x**2 + y**2 + z**2)**0.5</span><br><span class="line">    b.write(str(F))</span><br><span class="line">    b.write(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">a.close()</span><br><span class="line">b.close()</span><br><span class="line"></span><br><span class="line"><span class="comment">################################################</span></span><br><span class="line"><span class="comment">#Output the force that does not fulfill        #</span></span><br><span class="line"><span class="comment">#convergence criteria.                         #</span></span><br><span class="line"><span class="comment">################################################</span></span><br><span class="line"></span><br><span class="line">c=open(<span class="string">&#x27;atomicforce.dat&#x27;</span>,<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ce=<span class="string">&#x27;lt_ediffg.dat&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> os.path.exists(ce):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;------------------------------------------&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;%s file already exists. It will be deleted.&quot;</span> %(ce)) </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;------------------------------------------&quot;</span>)</span><br><span class="line">    os.remove(ce)</span><br><span class="line"></span><br><span class="line">d=open(ce,<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lc=c.readlines()</span><br><span class="line"></span><br><span class="line"><span class="comment">##################################################</span></span><br><span class="line"><span class="comment">#Change the ediffg according to your own settings#</span></span><br><span class="line"><span class="comment">##################################################</span></span><br><span class="line">ediffg=0.01</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(lc)):</span><br><span class="line">    F=<span class="built_in">float</span>(lc[i].strip())       </span><br><span class="line">    <span class="keyword">if</span> F &gt;= ediffg:</span><br><span class="line">        d.write(str(i+1))</span><br><span class="line">        d.write(<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        d.write(str(F))</span><br><span class="line">        d.write(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">c.close()</span><br><span class="line">d.close()</span><br></pre></td></tr></table></figure><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1] <a href="https://github.com/Ionizing/rsgrad">Ionizing/rsgrad: A VASP calculation monitor. Written in Rust</a><br>[2] <a href="http://bbs.keinsci.com/thread-19985-1-1.html">分享从OUTCAR查看原子受力的小脚本 - 第一性原理 (First Principle) - 计算化学公社</a><br>[3] <a href="https://blog.csdn.net/chenxieyy/article/details/53786313">(5条消息) linux 一行数值累加求和_yychenxie21的博客-CSDN博客_linux 累加</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在任务运行过程中监测任务的收敛情况，有两个脚本。&lt;/p&gt;
&lt;h2 id=&quot;rsgrad&quot;&gt;&lt;a href=&quot;#rsgrad&quot; class=&quot;headerlink&quot; title=&quot;rsgrad&quot;&gt;&lt;/a&gt;rsgrad&lt;/h2&gt;&lt;p&gt;vasp计算监控程序，使用rust脚本编写，</summary>
      
    
    
    
    <category term="科研代码" scheme="http://raolixiang-up.github.io/categories/%E7%A7%91%E7%A0%94%E4%BB%A3%E7%A0%81/"/>
    
    
    <category term="github" scheme="http://raolixiang-up.github.io/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>cohp高通量计算003-批量重命名</title>
    <link href="http://raolixiang-up.github.io/2022/05/06/cohp%E9%AB%98%E9%80%9A%E9%87%8F%E8%AE%A1%E7%AE%97003-%E6%89%B9%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D/"/>
    <id>http://raolixiang-up.github.io/2022/05/06/cohp%E9%AB%98%E9%80%9A%E9%87%8F%E8%AE%A1%E7%AE%97003-%E6%89%B9%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D/</id>
    <published>2022-05-06T01:59:08.000Z</published>
    <updated>2022-05-06T02:12:46.557Z</updated>
    
    <content type="html"><![CDATA[<p>爬取完数据，因为mpid需要按顺序排列，方便以后数据爬取，因此需要给下载的结构文件重命名。python使用很不熟练，命令代码也不熟悉，任务还比较着急。因此，直接搜索“文件批量重命名”，顺利找到解决方案。</p><h2 id="使用工具"><a href="#使用工具" class="headerlink" title="使用工具"></a>使用工具</h2><p>软件名称：Renamer Lite (免安装解压即用)<br>下载地址：<br><a href="https://www.den4b.com/products/renamer">ReNamer « Products « den4b.com</a><br><a href="https://m.majorgeeks.com/files/details/renamer.html">Download ReNamer Lite - MajorGeeks</a><br>使用这个工具顺利解决我的问题</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1] <a href="https://www.den4b.com/products/renamer">ReNamer « Products « den4b.com</a><br>[2] <a href="https://m.majorgeeks.com/files/details/renamer.html">Download ReNamer Lite - MajorGeeks</a><br>[3] <a href="https://zhuanlan.zhihu.com/p/100779917">ReNamer批量重命名文件教程 - 知乎</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;爬取完数据，因为mpid需要按顺序排列，方便以后数据爬取，因此需要给下载的结构文件重命名。python使用很不熟练，命令代码也不熟悉，任务还比较着急。因此，直接搜索“文件批量重命名”，顺利找到解决方案。&lt;/p&gt;
&lt;h2 id=&quot;使用工具&quot;&gt;&lt;a href=&quot;#使用工具&quot; c</summary>
      
    
    
    
    <category term="机器学习" scheme="http://raolixiang-up.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="ML" scheme="http://raolixiang-up.github.io/tags/ML/"/>
    
  </entry>
  
  <entry>
    <title>科研代码001-sumo</title>
    <link href="http://raolixiang-up.github.io/2022/05/05/%E7%A7%91%E7%A0%94%E4%BB%A3%E7%A0%81001/"/>
    <id>http://raolixiang-up.github.io/2022/05/05/%E7%A7%91%E7%A0%94%E4%BB%A3%E7%A0%81001/</id>
    <published>2022-05-05T13:10:46.000Z</published>
    <updated>2022-05-05T13:23:11.982Z</updated>
    
    <content type="html"><![CDATA[<p>sumo程序可以简化vasp计算数据的后处理，这里收集一下大佬分享的使用代码吧。</p><h2 id="程序安装"><a href="#程序安装" class="headerlink" title="程序安装"></a>程序安装</h2><p>sumo简介和安装见：SMTG-UCL/sumo: <a href="https://github.com/SMTG-UCL/sumo">Heavyweight plotting tools for ab initio calculations</a><br>安装命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip install --user sumo</span><br></pre></td></tr></table></figure><h2 id="程序使用"><a href="#程序使用" class="headerlink" title="程序使用"></a>程序使用</h2><p>a)    声子谱（DFPT方法）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sumo-phonon-bandplot -f  FORCE_CONSTANTS --primitive-auto --pymatgen --format tiff --dim 2 2 2</span><br></pre></td></tr></table></figure><p>b)    声子谱（冷冻声子法）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sumo-phonon-bandplot --primitive-auto --pymatgen --format tiff  --dim 2 2 2</span><br></pre></td></tr></table></figure><p>c)    一键画态密度图</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sumo-dosplot --orbitals Os.d --elements Os.d --atoms Os.1 --no-total</span><br></pre></td></tr></table></figure><p>d)    一键画能带图</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sumo-bandplot --project Os.d,O.p,Os.s --mode stacked --circle-size 90</span><br></pre></td></tr></table></figure><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1] <a href="https://github.com/SMTG-UCL/sumo">Heavyweight plotting tools for ab initio calculations</a><br>[2] <a href="https://smtg-ucl.github.io/sumo/index.html">Sumo — sumo 2.3.0 documentation</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;sumo程序可以简化vasp计算数据的后处理，这里收集一下大佬分享的使用代码吧。&lt;/p&gt;
&lt;h2 id=&quot;程序安装&quot;&gt;&lt;a href=&quot;#程序安装&quot; class=&quot;headerlink&quot; title=&quot;程序安装&quot;&gt;&lt;/a&gt;程序安装&lt;/h2&gt;&lt;p&gt;sumo简介和安装见：SMT</summary>
      
    
    
    
    <category term="科研代码" scheme="http://raolixiang-up.github.io/categories/%E7%A7%91%E7%A0%94%E4%BB%A3%E7%A0%81/"/>
    
    
    <category term="github" scheme="http://raolixiang-up.github.io/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>shell001-反向删除</title>
    <link href="http://raolixiang-up.github.io/2022/05/05/shell001/"/>
    <id>http://raolixiang-up.github.io/2022/05/05/shell001/</id>
    <published>2022-05-04T17:39:45.000Z</published>
    <updated>2022-05-04T18:03:44.668Z</updated>
    
    <content type="html"><![CDATA[<p>我咋特别喜欢揪着不常用的命令花费大量时间死磕呢，不是一个好习惯。</p><h2 id="shell反向删除"><a href="#shell反向删除" class="headerlink" title="shell反向删除"></a>shell反向删除</h2><h3 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h3><p>花了很长时间终于找到解决方案。<br>    <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">shopt</span> -s extglob   <span class="comment">#（打开extglob模式）</span></span><br><span class="line">$ <span class="built_in">rm</span> -rf !(file1) 或者 <span class="built_in">rm</span> -rf !(file1|file2|...) -删除多个文件</span><br></pre></td></tr></table></figure><br>顺利反向删除</p><h3 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h3><p>当前文件夹中结合使用grep和xargs来处理文件名：ls | grep -v keep | xargs rm  #删除keep文件之外的所有文件<br>说明：ls先得到当前的所有文件和文件夹的名字，grep -v keep，进行grep正则匹配查找keep，-v参数决定了结果为匹配之外的结果，也就是的到了keep之外的所有文件名，然后  xargs用于从  标准输入获得参数  并且传递给后面的命令，这里使用的命令是  rm，然后由rm删除前面选择的文件。<br>好处：使用了grep来正则表达式来匹配文件名字，可以一次保留多个文件，从而进行更加准确的处理。</p><h3 id="方法3"><a href="#方法3" class="headerlink" title="方法3"></a>方法3</h3><p>使用find命令代替ls，改进方法3从而能够处理制定文件夹的文件：<br>find ./test/ | grep -v keep | xargs rm  #删除当前test文件夹中keep文件之外的所有文件<br>说明，用grep而不用find -name选取名字，因为find选取名字时比较麻烦，对正则表达式支持不够，无法排除指定文件名。</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1] <a href="https://blog.csdn.net/taiyang1987912/article/details/41488395">linux shell下除了某个文件外的其他文件全部删除的命令_乌托邦2号的博客-CSDN博客_linux删除除了某个文件的其他文件</a><br>[2] <a href="https://blog.csdn.net/youcijibi/article/details/103674402">rm -rf 排除指定文件夹或文件_youcijibi的博客-CSDN博客_rm 排除目录</a><br>[3] <a href="https://cloud.tencent.com/developer/article/1849817">Linux下使用rm删除文件，并排除指定文件 - 云+社区 - 腾讯云</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;我咋特别喜欢揪着不常用的命令花费大量时间死磕呢，不是一个好习惯。&lt;/p&gt;
&lt;h2 id=&quot;shell反向删除&quot;&gt;&lt;a href=&quot;#shell反向删除&quot; class=&quot;headerlink&quot; title=&quot;shell反向删除&quot;&gt;&lt;/a&gt;shell反向删除&lt;/h2&gt;&lt;h3 i</summary>
      
    
    
    
    <category term="shell" scheme="http://raolixiang-up.github.io/categories/shell/"/>
    
    
    <category term="bash" scheme="http://raolixiang-up.github.io/tags/bash/"/>
    
  </entry>
  
  <entry>
    <title>科研追踪001</title>
    <link href="http://raolixiang-up.github.io/2022/05/04/%E7%A7%91%E7%A0%94%E8%BF%BD%E8%B8%AA001/"/>
    <id>http://raolixiang-up.github.io/2022/05/04/%E7%A7%91%E7%A0%94%E8%BF%BD%E8%B8%AA001/</id>
    <published>2022-05-04T08:28:59.000Z</published>
    <updated>2022-05-04T17:40:35.327Z</updated>
    
    <content type="html"><![CDATA[<p>搜集一下需要关注的课题组主页吧，会更新。</p><h2 id="研究类"><a href="#研究类" class="headerlink" title="研究类"></a>研究类</h2><ol><li><a href="http://www.jiawanghong.org/index.html">Jiawang Hong Research Group</a>—-自己所属课题组，必须关注</li><li><a href="https://ombe.nju.edu.cn/main.htm">氧化物分子束外延及电子结构表征实验室</a>—聂越峰老师课题组</li><li><a href="https://sites.google.com/site/zrfbuaa/home">Website of Dr. Ruifeng Zhang</a>—张瑞丰老师课题组</li><li><a href="https://crystal.nju.edu.cn/zh/">功能晶体材料实验室</a>—陈彦彬老师课题组</li><li><a href="http://www.comates.group/">Computational Materials Science Group : Wan-Jian Yin (尹万健) Group</a></li><li><a href="https://pld.nju.edu.cn/">PLD Lab</a>—刘俊明老师课题组</li><li><a href="https://physics.seu.edu.cn/sdong/">东南大学量子材料物理研究组-Welcome to the PQM Group</a>—董帅老师课题组</li><li><a href="https://www.labxing.com/lucheng">卢成课题组 | 中国地质大学（武汉） | LabXing</a></li><li><a href="https://stokes.byu.edu/stokes/stokes.html">Harold T. Stokes</a></li><li><a href="https://fenniegroup.org/">Fennie Group Materials Physics</a></li><li><a href="http://thermoelectrics.matsci.northwestern.edu/">Thermoelectrics at Northwestern</a><h2 id="工具类"><a href="#工具类" class="headerlink" title="工具类"></a>工具类</h2></li><li><a href="https://harzing.com/home">Harzing.com</a>—文献情报搜索类，很多软件</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;搜集一下需要关注的课题组主页吧，会更新。&lt;/p&gt;
&lt;h2 id=&quot;研究类&quot;&gt;&lt;a href=&quot;#研究类&quot; class=&quot;headerlink&quot; title=&quot;研究类&quot;&gt;&lt;/a&gt;研究类&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://www.jiawanghong.</summary>
      
    
    
    
    <category term="科研追踪" scheme="http://raolixiang-up.github.io/categories/%E7%A7%91%E7%A0%94%E8%BF%BD%E8%B8%AA/"/>
    
    
    <category term="课题组" scheme="http://raolixiang-up.github.io/tags/%E8%AF%BE%E9%A2%98%E7%BB%84/"/>
    
  </entry>
  
  <entry>
    <title>cohp的高通量计算002</title>
    <link href="http://raolixiang-up.github.io/2022/05/02/cohp%E7%9A%84%E9%AB%98%E9%80%9A%E9%87%8F%E8%AE%A1%E7%AE%97002/"/>
    <id>http://raolixiang-up.github.io/2022/05/02/cohp%E7%9A%84%E9%AB%98%E9%80%9A%E9%87%8F%E8%AE%A1%E7%AE%97002/</id>
    <published>2022-05-02T14:47:33.000Z</published>
    <updated>2022-05-02T15:52:33.152Z</updated>
    
    <content type="html"><![CDATA[<p>作了个大死，越是任务紧急越是东瞅西瞅，效率低到姥姥家。同时，在一些小点上竟然花费那么长时间了，一直卡bug。最后的成果就是能够通过mpid批量爬取数据。</p><h2 id="成果（通过mpid批量爬取数据）"><a href="#成果（通过mpid批量爬取数据）" class="headerlink" title="成果（通过mpid批量爬取数据）"></a>成果（通过mpid批量爬取数据）</h2><p>代码如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import pymatgen.core as mg</span><br><span class="line">from pymatgen.io.vasp import Poscar</span><br><span class="line">from pymatgen.ext.matproj import MPRester</span><br><span class="line">import csv</span><br><span class="line"></span><br><span class="line">with open(<span class="string">&#x27;structureid.csv&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;UTF-8-sig&#x27;</span>) as csv_file:</span><br><span class="line">    content = csv.reader(csv_file)</span><br><span class="line">    structure_id = list(content)[0]</span><br><span class="line">    <span class="built_in">print</span>(structure_id)</span><br><span class="line">    <span class="keyword">for</span> mpid <span class="keyword">in</span> structure_id:</span><br><span class="line">        mpr = MPRester(<span class="string">&quot;API-MP&quot;</span>)</span><br><span class="line">        strctr = mpr.get_structure_by_material_id(mpid)</span><br><span class="line">        poscar = Poscar(strctr)</span><br><span class="line">        poscar.write_file(<span class="string">&#x27;POSCAR_&#123;0&#125;&#x27;</span>.format(mpid))</span><br></pre></td></tr></table></figure><p>写了一点代码，因为已经知道所有mpid，因此就通过mpid来爬取POSCAR结构，但是有483个结构。因此，采用for循环遍历483个mpid。总不能一个一个输，因此采用读取csv文件的方式生成一个列表。这里，用到csv库的reader命令，然后我就在这里卡bug，走不动了。reader把每行都搞成一个列表，每行的元素直接逗号隔开，最终生成的列表中的元素都是行所组成的列表，for… in…无法遍历。<br>搜了很多资料，一开始都放弃csv文件转投text文件，折腾很久的原因就是自己对概念理解不清，一些关键的功能根本不知道 。最后采用以下步骤解决：<br>（1）csv中的mpid排列转为行排列（excel复制粘贴就可以，注意复制的区域和粘贴的区域大小一致）；<br>（2）采用structure_id = list(content)[0]，只提取第一行形成的数组；<br>（3）一个小细节就是encoding=’UTF-8-sig’，一定要加-sig，不然输出列表的第一个元素会有\ufeff特殊字符；<br>（4）盲目相信教程，列表中的单双引号都可以，我竟然作死去折腾把列表中的单引号转为双引号，当然以失败告终。<br>（5）从materials project爬取数据，把VPN关掉，使用conda或者pip安装一些包的时候也一样。血泪教训，目前搞不清为啥要关闭。<br>这样就完成了爬取数据，现在搞清楚了感觉很简单，但我搞了好久。分析一下原因：<br>（1）基本是参考别人的脚本，对python基础概念理解不清，关键细节更是只能通过搜索看到关键信息点才会有突破，本质就是解题思路不清晰；<br>（2）很要命的一点，就是反复死磕一个点，耗费太多精力发现是死胡同，还得另寻他路，不过也是在拼命搜索过程中找到岔路口；<br>（3）还有一点就是思路不清晰，搞多线程，同时尝试去解决很多个点，精力分散，结果就是按下葫芦浮起瓢。</p><h2 id="后续工作安排"><a href="#后续工作安排" class="headerlink" title="后续工作安排"></a>后续工作安排</h2><p>按照LobsterAutomation教程接下来就是atomate和FireWorks两个高通量软件的调用了，他们可以监控和检查计算结果。如果搞明白应该可以加快脚本书写进度。下面工作流程如下：<br>（1）解读调用的atomate的包<br>（2）解读调用的FireWorks包</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1] <a href="https://atomate.org/index.html">atomate (Materials Science Workflows) — atomate 1.0.3 documentation</a><br>[2] <a href="https://materialsproject.github.io/fireworks/">Introduction to FireWorks (workflow software) — FireWorks 2.0.3 documentation</a><br>[3] <a href="https://pymatgen.org/">Introduction — pymatgen 2022.4.26 documentation</a><br>[4] <a href="https://www.cnblogs.com/zqifa/p/python-9.html">python去除\ufeff、\xa0、\u3000 - zqifa - 博客园</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;作了个大死，越是任务紧急越是东瞅西瞅，效率低到姥姥家。同时，在一些小点上竟然花费那么长时间了，一直卡bug。最后的成果就是能够通过mpid批量爬取数据。&lt;/p&gt;
&lt;h2 id=&quot;成果（通过mpid批量爬取数据）&quot;&gt;&lt;a href=&quot;#成果（通过mpid批量爬取数据）&quot; cl</summary>
      
    
    
    
    <category term="机器学习" scheme="http://raolixiang-up.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="ML" scheme="http://raolixiang-up.github.io/tags/ML/"/>
    
  </entry>
  
  <entry>
    <title>cohp的高通量计算001</title>
    <link href="http://raolixiang-up.github.io/2022/05/01/cohp%E7%9A%84%E9%AB%98%E9%80%9A%E9%87%8F%E8%AE%A1%E7%AE%97001/"/>
    <id>http://raolixiang-up.github.io/2022/05/01/cohp%E7%9A%84%E9%AB%98%E9%80%9A%E9%87%8F%E8%AE%A1%E7%AE%97001/</id>
    <published>2022-05-01T15:58:43.000Z</published>
    <updated>2022-05-01T16:17:30.077Z</updated>
    
    <content type="html"><![CDATA[<p>最近学习机器学习，第一个任务是关于数据挖掘和高通量计算，为机器学习准备素材，没有编程基础很难受，这一天浏览了python的基本操作，进行简单的算例模仿，工作还是没啥进展，先把用到的资料总结一下吧</p><h2 id="使用的工具"><a href="#使用的工具" class="headerlink" title="使用的工具"></a>使用的工具</h2><p>（1）jupyter notebook或者jupyter lab，jupyter lab我用的很不稳定，因此大量测试学习采用jupyter notebook;<br>（2）文本编辑器：BowPad，挺好用，可以替代notepad++。</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>自己搜寻资料的能力太弱了，真的有待加强，基本都是大佬提供的</p><ol><li><a href="https://github.com/MasterLegend/PyML/tree/main/%E7%AC%AC06%E6%9C%9F%202022.04.25-04.29">PyML/第06期 2022.04.25-04.29 at main · MasterLegend/PyML</a></li><li><a href="https://hackingmaterials.lbl.gov/matminer/index.html">matminer (Materials Data Mining) — matminer 0.7.6 documentation</a></li><li><a href="https://materialsproject.org/dashboard">Materials Project</a></li><li><a href="https://github.com/JaGeo/LobsterAutomation">JaGeo/LobsterAutomation: This is a package to reproduce the publication on Lobster automation</a></li><li><a href="https://github.com/JaGeo/LobsterPy">JaGeo/LobsterPy: Package to automatically analyze Lobster runs</a></li><li><a href="https://pymatgen.org/">Introduction — pymatgen 2022.4.26 documentation</a></li><li><a href="https://wiki.fysik.dtu.dk/ase/index.html">Atomic Simulation Environment — ASE documentation</a></li><li><a href="https://zhuanlan.zhihu.com/p/470592188">ASE-LOBSTER联用进行批量COHP成键分析 - 知乎</a></li><li><a href="http://blog.wangruixing.cn/2019/06/12/pymatgen-api/">pymatgen API的使用-高通量计算初探 | 世事如棋</a></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近学习机器学习，第一个任务是关于数据挖掘和高通量计算，为机器学习准备素材，没有编程基础很难受，这一天浏览了python的基本操作，进行简单的算例模仿，工作还是没啥进展，先把用到的资料总结一下吧&lt;/p&gt;
&lt;h2 id=&quot;使用的工具&quot;&gt;&lt;a href=&quot;#使用的工具&quot; cla</summary>
      
    
    
    
    <category term="机器学习" scheme="http://raolixiang-up.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="ML" scheme="http://raolixiang-up.github.io/tags/ML/"/>
    
  </entry>
  
  <entry>
    <title>Hexo个人博客(006)-评论系统设置</title>
    <link href="http://raolixiang-up.github.io/2022/04/29/Hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2006-%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE/"/>
    <id>http://raolixiang-up.github.io/2022/04/29/Hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2006-%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE/</id>
    <published>2022-04-29T07:40:46.000Z</published>
    <updated>2022-04-30T07:48:22.660Z</updated>
    
    <content type="html"><![CDATA[<p>搭建完博客，希望能及时跟同行一起交流，所以鼓捣一下评论系统。</p><h2 id="问题检索"><a href="#问题检索" class="headerlink" title="问题检索"></a>问题检索</h2><p>搜索关键词“hexo pure 评论系统”，“hexo pure valine”</p><p>希望评论系统好用<br>希望评论系统好用+1<br>希望评论系统好用+2<br>希望评论系统好用+3<br>希望评论系统好用+4<br>希望评论系统好用+5<br>希望评论系统好用+6<br>希望评论系统好用+7<br>希望评论系统好用+8<br>希望评论系统好用+9<br>希望评论系统好用+10<br>希望评论系统好用+11<br>希望评论系统好用+12<br>希望评论系统好用+13<br>希望评论系统好用+14<br>希望评论系统好用+15<br>希望评论系统好用+16<br>希望评论系统好用+17<br>希望评论系统好用+18<br>希望评论系统好用+19<br>希望评论系统好用+20</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1] <a href="https://hwame.top/20200520/hello-hexo-optimization.html">Hexo博客搭建(3)——优化评论系统 | 鴻塵</a><br>[2] <a href="https://hwame.top/20200520/hello-hexo-configuration.html">Hexo博客搭建(2)——主题配置 | 鴻塵</a><br>[3] <a href="https://zhuanlan.zhihu.com/p/149540221">Hexo博客使用valine评论系统无效果及终极解决方案 - 知乎</a><br>[4] <a href="https://valine.js.org/">介绍 | Valine 一款快速、简洁且高效的无后端评论系统</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;搭建完博客，希望能及时跟同行一起交流，所以鼓捣一下评论系统。&lt;/p&gt;
&lt;h2 id=&quot;问题检索&quot;&gt;&lt;a href=&quot;#问题检索&quot; class=&quot;headerlink&quot; title=&quot;问题检索&quot;&gt;&lt;/a&gt;问题检索&lt;/h2&gt;&lt;p&gt;搜索关键词“hexo pure 评论系统”，“h</summary>
      
    
    
    
    <category term="hexo博客" scheme="http://raolixiang-up.github.io/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="hexo" scheme="http://raolixiang-up.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>机器学习001</title>
    <link href="http://raolixiang-up.github.io/2022/04/29/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0001/"/>
    <id>http://raolixiang-up.github.io/2022/04/29/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0001/</id>
    <published>2022-04-28T21:43:56.000Z</published>
    <updated>2022-04-29T14:53:23.261Z</updated>
    
    <content type="html"><![CDATA[<p>机器学习的基础数据挖掘</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;机器学习的基础数据挖掘&lt;/p&gt;
</summary>
      
    
    
    
    <category term="机器学习" scheme="http://raolixiang-up.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="ML" scheme="http://raolixiang-up.github.io/tags/ML/"/>
    
  </entry>
  
  <entry>
    <title>hexo个人博客(005)-标签和分类的产生</title>
    <link href="http://raolixiang-up.github.io/2022/04/29/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2005-%E6%A0%87%E7%AD%BE%E5%92%8C%E5%88%86%E7%B1%BB%E7%9A%84%E4%BA%A7%E7%94%9F/"/>
    <id>http://raolixiang-up.github.io/2022/04/29/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2005-%E6%A0%87%E7%AD%BE%E5%92%8C%E5%88%86%E7%B1%BB%E7%9A%84%E4%BA%A7%E7%94%9F/</id>
    <published>2022-04-28T21:20:49.000Z</published>
    <updated>2022-04-28T21:28:47.428Z</updated>
    
    <content type="html"><![CDATA[<p>在git中执行hexo n 文件名，在source/_posts下生成相应的 文件名.md 文件，编辑md文件，如下所示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: hexo个人博客005-标签和分类的产生</span><br><span class="line"><span class="built_in">date</span>: 2022-04-29 05:20:49</span><br><span class="line">tags:</span><br><span class="line">- hexo</span><br><span class="line">categories:</span><br><span class="line">- hexo博客</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>tags和categories即为标签和分类的关键词，如上设置即可。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在git中执行hexo n 文件名，在source/_posts下生成相应的 文件名.md 文件，编辑md文件，如下所示：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span</summary>
      
    
    
    
    <category term="hexo博客" scheme="http://raolixiang-up.github.io/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="hexo" scheme="http://raolixiang-up.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>hexo个人博客(004)-文章图片插入</title>
    <link href="http://raolixiang-up.github.io/2022/04/29/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2004-%E6%96%87%E7%AB%A0%E5%9B%BE%E7%89%87%E6%8F%92%E5%85%A5/"/>
    <id>http://raolixiang-up.github.io/2022/04/29/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2004-%E6%96%87%E7%AB%A0%E5%9B%BE%E7%89%87%E6%8F%92%E5%85%A5/</id>
    <published>2022-04-28T20:00:46.000Z</published>
    <updated>2022-04-29T15:18:57.728Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章图片插入"><a href="#文章图片插入" class="headerlink" title="文章图片插入"></a>文章图片插入</h2><p>写博客过程遇到需要图片展示，因此写一个图片插入的教程。</p><h3 id="问题检索"><a href="#问题检索" class="headerlink" title="问题检索"></a>问题检索</h3><p>搜索关键词“hexo 文章 图片”</p><h3 id="解决途径"><a href="#解决途径" class="headerlink" title="解决途径"></a>解决途径</h3><p>根据检索结果，在md文件中插入图片的语法为</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![]()</span><br></pre></td></tr></table></figure><p>其中方括号是图片描述，圆括号是图片路径。</p><h4 id="绝对路径"><a href="#绝对路径" class="headerlink" title="绝对路径"></a>绝对路径</h4><p>Hexo项目中将图片统一放在source/images文件夹，通过markdown语法访问，图片在首页内容和文章正文中都可以访问到。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![](/images/image.jpg)</span><br></pre></td></tr></table></figure><p><img src="/images/1.jpg"></p><h4 id="相对路径"><a href="#相对路径" class="headerlink" title="相对路径"></a>相对路径</h4><p>图片还可以放在文章自己的目录中。文章的图片目录可以通过配置_config.yml来生成。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>将_config.yml文件中的配置项post_asset_folder设为true后，执行命令$ hexo new post_name，在source/_posts中会生成文<br>章post_name.md和同名文件夹post_name。将图片放在post_name中，文章就可以使用相对路径引用图片资源了。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![](image.jpg)</span><br></pre></td></tr></table></figure><p>上述是markdown的引用方式，图片只能在文章中显示，但无法在首页中正常显示。如果希望图片在文章和首页中同时显示，可以使用<br>标签插件语法。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_img image.jpg This is an image %&#125;</span><br></pre></td></tr></table></figure><h4 id="网络路径"><a href="#网络路径" class="headerlink" title="网络路径"></a>网络路径</h4><p>除了在本地存储图片，还可以将图片上传到一些免费的CDN服务中。比如Cloudinary提供的图片CDN服务，在Cloudinary中上传图片<br>后，会生成对应的url地址，将地址直接拿来引用即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![](url地址)</span><br></pre></td></tr></table></figure><p>采用github图床上的图片，展示如下：<br><img src="https://github.com/raolixiang-up/blog-images/blob/master/imagesnotion-avatar-1651151887408.png?raw=true"></p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>[1] <a href="https://yanyinhong.github.io/2017/05/02/How-to-insert-image-in-hexo-post/">Hexo博客搭建之在文章中插入图片 - yanyinhong的个人博客</a><br>[2] <a href="https://cloud.tencent.com/developer/article/1736563">hexo博客中如何插入图片 - 云+社区 - 腾讯云</a><br>[3] <a href="https://fuhailin.github.io/Hexo-images/">在Hexo博客中插入图片的各种方式 | 赵大寳</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;文章图片插入&quot;&gt;&lt;a href=&quot;#文章图片插入&quot; class=&quot;headerlink&quot; title=&quot;文章图片插入&quot;&gt;&lt;/a&gt;文章图片插入&lt;/h2&gt;&lt;p&gt;写博客过程遇到需要图片展示，因此写一个图片插入的教程。&lt;/p&gt;
&lt;h3 id=&quot;问题检索&quot;&gt;&lt;a href=</summary>
      
    
    
    
    <category term="hexo博客" scheme="http://raolixiang-up.github.io/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="hexo" scheme="http://raolixiang-up.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>hexo个人博客(003)-文章目录生成</title>
    <link href="http://raolixiang-up.github.io/2022/04/29/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2-%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95%E7%94%9F%E6%88%90/"/>
    <id>http://raolixiang-up.github.io/2022/04/29/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2-%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95%E7%94%9F%E6%88%90/</id>
    <published>2022-04-28T19:35:26.000Z</published>
    <updated>2022-04-29T15:18:11.617Z</updated>
    
    <content type="html"><![CDATA[<p>小白一枚，一直想搭建一个自己保存自己学习工作生活记录的博客。得意于互联网的蓬勃发展，提供各种学习资料，如愿搭建了一个。</p><h2 id="文章目录生成"><a href="#文章目录生成" class="headerlink" title="文章目录生成"></a>文章目录生成</h2><p>已经写了两个关于hexo博客的帖子，使用过程中发现没有文章目录生成。</p><h3 id="问题检索"><a href="#问题检索" class="headerlink" title="问题检索"></a>问题检索</h3><p>检索关键词“hexo pure toc文章目录”，谷歌搜索第一个帖子解决问题</p><h3 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h3><p>这个问题是在网址（<a href="https://github.com/cofess/hexo-theme-pure/issues/%EF%BC%89%E9%87%8C%E7%9A%84%E7%AC%AC33%E5%92%8C125%E4%B8%AA%E9%97%AE%E9%A2%98%EF%BC%8C%E5%9C%A8%E9%97%AE%E9%A2%9833%E9%87%8C%E6%8F%90%E4%BE%9B%E4%BA%86%E8%A7%A3%E5%86%B3%E6%96%B9%E5%BC%8F%EF%BC%8C">https://github.com/cofess/hexo-theme-pure/issues/）里的第33和125个问题，在问题33里提供了解决方式，</a><br>解决问题流程如下所示：<br>（1）把layout/_partial/post/nav.ejs，layout/_partial/sidebar-toc.ejs里的&amp;&amp; post.toc删掉；<br>（2）sidebar-toc.ejs把collapse这个样式去掉可以了，这个样式写了一个display:none!important; 不知道为什么要隐藏Mark。<br>这里只使用了（1）就正常生成了文章目录(TOC,Table of contents)。</p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>[1] <a href="https://github.com/cofess/hexo-theme-pure/issues/33">在内容页面，如何显示文章内容结构 · Issue #33 · cofess/hexo-theme-pure</a><br>[2] <a href="https://github.com/cofess/hexo-theme-pure/issues/125">开启了toc但还是不显示文章目录 · Issue #125 · cofess/hexo-theme-pure</a><br>[3] <a href="https://github.com/cofess/hexo-theme-pure/issues/">Issues · cofess/hexo-theme-pure</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;小白一枚，一直想搭建一个自己保存自己学习工作生活记录的博客。得意于互联网的蓬勃发展，提供各种学习资料，如愿搭建了一个。&lt;/p&gt;
&lt;h2 id=&quot;文章目录生成&quot;&gt;&lt;a href=&quot;#文章目录生成&quot; class=&quot;headerlink&quot; title=&quot;文章目录生成&quot;&gt;&lt;/a&gt;文</summary>
      
    
    
    
    <category term="hexo博客" scheme="http://raolixiang-up.github.io/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="hexo" scheme="http://raolixiang-up.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>hexo个人博客(002)-修改头像</title>
    <link href="http://raolixiang-up.github.io/2022/04/29/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2-%E9%9A%8F%E6%9C%BA%E5%A4%B4%E5%83%8F%E7%94%9F%E6%88%90/"/>
    <id>http://raolixiang-up.github.io/2022/04/29/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2-%E9%9A%8F%E6%9C%BA%E5%A4%B4%E5%83%8F%E7%94%9F%E6%88%90/</id>
    <published>2022-04-28T17:55:59.000Z</published>
    <updated>2022-04-29T15:17:44.511Z</updated>
    
    <content type="html"><![CDATA[<h2 id="更改头像"><a href="#更改头像" class="headerlink" title="更改头像"></a>更改头像</h2><p>搭建完hexo博客，采用pure主题。配置pure主题只需要在站点配置文件（博客目录下的_config.yml）中把theme项更改为pure（在<br>hexo/themes/下有pure文件夹）即可。其次，在git中进入themes/pure/_source下执行cp -r * ../../../source（将主题下的各<br>种分类标签复制到主目录下的source中，这样就不用自己建了），进入自己的主页还是很激动的，但是马上就很懵了，需要更改的东<br>西太多了。那就先从最简单的开始吧，先更改头像信息。</p><h3 id="具体流程"><a href="#具体流程" class="headerlink" title="具体流程"></a>具体流程</h3><p>这时又要用到万能的搜索了，流程如下：<br>（1）确定更改代码的位置<br>需要更改主题目录下配置文件_config.yml（简称主题配置文件）更改profile的模块就可以了（可以用文本编辑器搜索功能快速定位<br>相应位置）；<br>（2）确定具体代码<br>avatar控制头像，头像图片可以提供相对路径或者绝对路径（相关的可以自己搜索）。需要注意的是关键词后的冒号与后面的文本之间<br>必须有空格，提供图片相对路径或者绝对路径的方式不利于以后博客的使用，因此采用图床的方式进行图片上传；<br>（3）使用github和PicGo建立图床<br>这里就不细说了，详细教程见：<a href="https://raolixiang-up.github.io/2022/04/28/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">link</a><br>（4）上传图像<br>搭建完图床，使用PicGo将图片上传到github的库里，然后复制图片地址粘贴到avatar后，更新即可。通过更改头像，可以发现，基本<br>网站的修改就两个配置文件_config.yml：站点配置文件和主题配置文件，有啥需要更改的就文本编辑器打开配置文件看看吧</p><h3 id="头像生成"><a href="#头像生成" class="headerlink" title="头像生成"></a>头像生成</h3><p>此外，为了得到好看的头像，发现了另一个新大陆，随机生成头像，把搜索到的相关网址总结如下：<br>（1）<a href="https://multiavatar.com/">Multiavatar - Avatar Generator, Profile Picture Creator, Unique Avatars Maker</a><br>（2）<a href="https://getavataaars.com/?accessoriesType=Round&avatarStyle=Circle&clotheColor=Heather&clotheType=ShirtScoopNeck&eyeType=Happy&eyebrowType=DefaultNatural&facialHairColor=Platinum&facialHairType=MoustacheFancy&graphicType=Bat&hairColor=Blue&hatColor=PastelGreen&mouthType=Eating&skinColor=Pale&topType=LongHairNotTooLong">Avataaars Generator - A free online avatar generator for anyone to make their beautiful personal avatar easily!</a><br>（3）<a href="http://www.atoolbox.net/Topic.php?Id=4">头像生成器 - 在线工具专题 - 一个工具箱 - 好用的在线工具都在这里！</a><br>（4）<a href="https://notion-avatar.vercel.app/zh">Notion 风格头像制作</a></p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>[1] <a href="https://hwame.top/20200520/hello-hexo-configuration.html">Hexo博客搭建(2)——主题配置 | 鴻塵</a><br>[2] <a href="https://cloud.tencent.com/developer/article/1793975?from=15425">免费稳定图床最佳实践：PicGo+GitHub+jsDeliver 极简教程 - 云+社区 - 腾讯云</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;更改头像&quot;&gt;&lt;a href=&quot;#更改头像&quot; class=&quot;headerlink&quot; title=&quot;更改头像&quot;&gt;&lt;/a&gt;更改头像&lt;/h2&gt;&lt;p&gt;搭建完hexo博客，采用pure主题。配置pure主题只需要在站点配置文件（博客目录下的_config.yml）中把them</summary>
      
    
    
    
    <category term="hexo博客" scheme="http://raolixiang-up.github.io/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="hexo" scheme="http://raolixiang-up.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>hexo个人博客(001)-建立博客</title>
    <link href="http://raolixiang-up.github.io/2022/04/28/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    <id>http://raolixiang-up.github.io/2022/04/28/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/</id>
    <published>2022-04-28T15:09:26.000Z</published>
    <updated>2022-04-29T15:25:01.663Z</updated>
    
    <content type="html"><![CDATA[<h2 id="搭建hexo博客流程"><a href="#搭建hexo博客流程" class="headerlink" title="搭建hexo博客流程"></a>搭建hexo博客流程</h2><p>小白一枚，一直想搭建一个自己保存自己学习工作生活记录的博客。得益于互联网的蓬勃发展，提供各种学习资料，如愿搭建了一个。</p><h3 id="搭建思路总结"><a href="#搭建思路总结" class="headerlink" title="搭建思路总结"></a>搭建思路总结</h3><p>经验总结如下：<br>（1）资料搜索<br>确定目标之后，最重要的是搜集资料，确定关键词，我通过谷歌搜索，搜关键词“个人网站 搭建”、“免费网站 搭建”、“github 免费<br>网站”，很顺利找到很多相关个人网站搭建教程。其中，github的fork别人的主题也尝试过，对于我来说不是很好用，遂放弃。<br>（2）确定工具<br>根据模板主题以及后续修改难易程度，确定hexo+git的组合进行个人博客的搭建。<br>（3）搭建个人网站<br>一开始很难，因为啥也不懂，在很多细小的点上浪费很多时间。回头总结，别太关注细节，不用着急理解各种设置的细节，先把个人网<br>站搭起来再说。关键的代码一定去搜索它起到什么作用这样反而能够加快进度。<br>（4）成功搭建个人博客<br>搭建完个人博客，进行了简单的修改，这是我的第一个帖子。在这里，总结一下经验：善用搜索，理解主干，抓大放小。网上教程很多，<br>我就不重复写了，把教程放到参考资料里。前人栽树，后人乘凉，感谢大佬们的教程分享。</p><h3 id="运行小细节"><a href="#运行小细节" class="headerlink" title="运行小细节"></a>运行小细节</h3><p>修改完配置或者要更新博客流程：<br>在博客目录下（我的是hexo）使用git bash(hexo文件夹右键git bash，也可以先打开git bash使用cd进入)，然后执行下面<br>    <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo n 帖子的名称（随意）<span class="comment">#会在source/_post/下生成相应的***.md文件，这个文件就是编辑帖子的具体内容</span></span><br><span class="line">$ hexo clean</span><br><span class="line">$ hexo g -d</span><br></pre></td></tr></table></figure><br>更新会延迟一分钟左右~~~~~~</p><h3 id="搭建过程中使用的工具"><a href="#搭建过程中使用的工具" class="headerlink" title="搭建过程中使用的工具"></a>搭建过程中使用的工具</h3><p>工具总结：<br>（1）git<br>（2）hexo<br>（3）github(搭建图床库以及个人网站)<br>（4）PicGo（向搭建的github图床上传图片）<br>（5）文本编辑器：BowPad（开源免费，超轻便）</p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>[1] <a href="https://jkzhao.github.io/2016/06/08/%E4%BD%BF%E7%94%A8Github-Pages%E4%B8%8EHexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">使用Github Pages与Hexo搭建博客 | jkzhao’s blog</a><br>[2] <a href="https://lfkid.github.io/2016/11/16/Hexo%E6%95%99%E7%A8%8B%EF%BC%9A%EF%BC%88%E4%B8%80%EF%BC%89%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E5%88%9D%E4%BD%93%E9%AA%8C/">Hexo教程：（一）安装及使用初体验 | 中二病也要玩 front end</a><br>[3] <a href="https://cloud.tencent.com/developer/article/1793975?from=15425">免费稳定图床最佳实践：PicGo+GitHub+jsDeliver 极简教程 - 云+社区 - 腾讯云</a><br>[4] <a href="https://www.cnblogs.com/imtudou/p/11205832.html">使用Hexo+ Github 建站 时 使用 hexo d 命令异常- 无敌土豆 - 博客园</a><br>[5] <a href="https://blog.plcent.com/2019/11/05/hexo-theme-pure/index.html">Hexo主题pure使用指南 | 非典型性程序员</a><br>[6] <a href="https://segmentfault.com/a/1190000002632530">hexo常用命令笔记 - SegmentFault 思否</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;搭建hexo博客流程&quot;&gt;&lt;a href=&quot;#搭建hexo博客流程&quot; class=&quot;headerlink&quot; title=&quot;搭建hexo博客流程&quot;&gt;&lt;/a&gt;搭建hexo博客流程&lt;/h2&gt;&lt;p&gt;小白一枚，一直想搭建一个自己保存自己学习工作生活记录的博客。得益于互联网的蓬</summary>
      
    
    
    
    <category term="hexo博客" scheme="http://raolixiang-up.github.io/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="hexo" scheme="http://raolixiang-up.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>模板</title>
    <link href="http://raolixiang-up.github.io/2022/04/28/hello-world/"/>
    <id>http://raolixiang-up.github.io/2022/04/28/hello-world/</id>
    <published>2022-04-27T20:38:01.389Z</published>
    <updated>2022-04-28T16:29:02.825Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
</feed>
